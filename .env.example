# =============================================================================
# MULTI-TENANT ENVIRONMENT CONFIGURATION
# =============================================================================
#
# This application supports multiple companies (tenants) via subdomains.
# Each company can have its own isolated:
#   - Firebase project (authentication, storage)
#   - PostgreSQL database
#   - Branding and configuration
#
# HOW THE PREFIX SYSTEM WORKS:
# ----------------------------
# Environment variables are prefixed with the company slug in UPPERCASE:
#   - dtiq.example.com    → DTIQ_* variables
#   - qwilt.example.com   → QWILT_* variables
#   - welink.example.com  → WELINK_* variables
#
# The middleware detects the subdomain and the application automatically
# reads the correct prefixed variables for that company.
#
# VARIABLE TYPES:
# ---------------
# 1. COMPANY-SPECIFIC (different per tenant):
#    - Database URLs
#    - Firebase configuration
#    - Custom API keys
#
# 2. SHARED (same across all tenants):
#    - OpenAI API key
#    - Twilio configuration
#    - WebSocket settings
#
# =============================================================================


# =============================================================================
# SHARED CONFIGURATION (Same for all companies)
# =============================================================================
# These variables are NOT prefixed and are shared across all tenants.

# -----------------------------------------------------------------------------
# OpenAI Configuration (for Realtime Voice API)
# Get your API key from https://platform.openai.com/
# -----------------------------------------------------------------------------
OPENAI_API_KEY="sk-..."

# -----------------------------------------------------------------------------
# Twilio Configuration (for AI Phone Receptionist)
# Get these from https://console.twilio.com/
# Shared because phone system is typically centralized
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID="your-account-sid"
TWILIO_AUTH_TOKEN="your-auth-token"
TWILIO_PHONE_NUMBER="+1234567890"
TWILIO_WS_URL="wss://your-domain.ngrok-free.app"

# -----------------------------------------------------------------------------
# WebSocket Server Configuration
# Used for real-time updates across the application
# -----------------------------------------------------------------------------
WS_PORT=3001
NEXT_PUBLIC_WS_URL="ws://localhost:3001"

# -----------------------------------------------------------------------------
# Claude AI API Configuration (if shared across tenants)
# Get your API key from: https://console.anthropic.com/
# -----------------------------------------------------------------------------
CLAUDE_API_KEY="sk-ant-..."


# =============================================================================
# COMPANY-SPECIFIC CONFIGURATION
# =============================================================================
# Each company needs its own set of these variables.
# The prefix matches the subdomain in UPPERCASE.
#
# For client-side variables (Firebase), use NEXT_PUBLIC_ prefix:
#   NEXT_PUBLIC_{COMPANY}_FIREBASE_*
#
# For server-side variables, just use the company prefix:
#   {COMPANY}_DATABASE_URL, {COMPANY}_FIREBASE_*


# =============================================================================
# DTIQ CONFIGURATION (dtiq.yourdomain.com)
# =============================================================================

# Database - PostgreSQL connection string
DTIQ_DATABASE_URL="postgresql://user:password@localhost:5432/dtiq_db?schema=public"

# Firebase Admin SDK (Server-side)
# Get from Firebase Console > Project Settings > Service Accounts
DTIQ_FIREBASE_PROJECT_ID="dtiq-firebase-project"
DTIQ_FIREBASE_CLIENT_EMAIL="firebase-adminsdk@dtiq-project.iam.gserviceaccount.com"
DTIQ_FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key\n-----END PRIVATE KEY-----\n"

# Firebase Client SDK (Client-side - needs NEXT_PUBLIC_ prefix)
# Get from Firebase Console > Project Settings > General > Your apps
NEXT_PUBLIC_DTIQ_FIREBASE_API_KEY="AIzaSy..."
NEXT_PUBLIC_DTIQ_FIREBASE_AUTH_DOMAIN="dtiq-project.firebaseapp.com"
NEXT_PUBLIC_DTIQ_FIREBASE_PROJECT_ID="dtiq-firebase-project"
NEXT_PUBLIC_DTIQ_FIREBASE_STORAGE_BUCKET="dtiq-project.appspot.com"
NEXT_PUBLIC_DTIQ_FIREBASE_MESSAGING_SENDER_ID="123456789"
NEXT_PUBLIC_DTIQ_FIREBASE_APP_ID="1:123456789:web:abcdef"


# =============================================================================
# QWILT CONFIGURATION (qwilt.yourdomain.com)
# =============================================================================

# Database
QWILT_DATABASE_URL="postgresql://user:password@localhost:5432/qwilt_db?schema=public"

# Firebase Admin SDK (Server-side)
QWILT_FIREBASE_PROJECT_ID="qwilt-firebase-project"
QWILT_FIREBASE_CLIENT_EMAIL="firebase-adminsdk@qwilt-project.iam.gserviceaccount.com"
QWILT_FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key\n-----END PRIVATE KEY-----\n"

# Firebase Client SDK (Client-side)
NEXT_PUBLIC_QWILT_FIREBASE_API_KEY="AIzaSy..."
NEXT_PUBLIC_QWILT_FIREBASE_AUTH_DOMAIN="qwilt-project.firebaseapp.com"
NEXT_PUBLIC_QWILT_FIREBASE_PROJECT_ID="qwilt-firebase-project"
NEXT_PUBLIC_QWILT_FIREBASE_STORAGE_BUCKET="qwilt-project.appspot.com"
NEXT_PUBLIC_QWILT_FIREBASE_MESSAGING_SENDER_ID="234567890"
NEXT_PUBLIC_QWILT_FIREBASE_APP_ID="1:234567890:web:bcdefg"


# =============================================================================
# PACKETFABRIC CONFIGURATION (packetfabric.yourdomain.com)
# =============================================================================

# Database
PACKETFABRIC_DATABASE_URL="postgresql://user:password@localhost:5432/packetfabric_db?schema=public"

# Firebase Admin SDK (Server-side)
PACKETFABRIC_FIREBASE_PROJECT_ID="packetfabric-firebase-project"
PACKETFABRIC_FIREBASE_CLIENT_EMAIL="firebase-adminsdk@packetfabric-project.iam.gserviceaccount.com"
PACKETFABRIC_FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key\n-----END PRIVATE KEY-----\n"

# Firebase Client SDK (Client-side)
NEXT_PUBLIC_PACKETFABRIC_FIREBASE_API_KEY="AIzaSy..."
NEXT_PUBLIC_PACKETFABRIC_FIREBASE_AUTH_DOMAIN="packetfabric-project.firebaseapp.com"
NEXT_PUBLIC_PACKETFABRIC_FIREBASE_PROJECT_ID="packetfabric-firebase-project"
NEXT_PUBLIC_PACKETFABRIC_FIREBASE_STORAGE_BUCKET="packetfabric-project.appspot.com"
NEXT_PUBLIC_PACKETFABRIC_FIREBASE_MESSAGING_SENDER_ID="345678901"
NEXT_PUBLIC_PACKETFABRIC_FIREBASE_APP_ID="1:345678901:web:cdefgh"


# =============================================================================
# WELINK CONFIGURATION (welink.yourdomain.com)
# =============================================================================

# Database
WELINK_DATABASE_URL="postgresql://user:password@localhost:5432/welink_db?schema=public"

# Firebase Admin SDK (Server-side)
WELINK_FIREBASE_PROJECT_ID="welink-firebase-project"
WELINK_FIREBASE_CLIENT_EMAIL="firebase-adminsdk@welink-project.iam.gserviceaccount.com"
WELINK_FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key\n-----END PRIVATE KEY-----\n"

# Firebase Client SDK (Client-side)
NEXT_PUBLIC_WELINK_FIREBASE_API_KEY="AIzaSy..."
NEXT_PUBLIC_WELINK_FIREBASE_AUTH_DOMAIN="welink-project.firebaseapp.com"
NEXT_PUBLIC_WELINK_FIREBASE_PROJECT_ID="welink-firebase-project"
NEXT_PUBLIC_WELINK_FIREBASE_STORAGE_BUCKET="welink-project.appspot.com"
NEXT_PUBLIC_WELINK_FIREBASE_MESSAGING_SENDER_ID="456789012"
NEXT_PUBLIC_WELINK_FIREBASE_APP_ID="1:456789012:web:defghi"


# =============================================================================
# ELEMENT8 CONFIGURATION (element8.yourdomain.com)
# =============================================================================

# Database
ELEMENT8_DATABASE_URL="postgresql://user:password@localhost:5432/element8_db?schema=public"

# Firebase Admin SDK (Server-side)
ELEMENT8_FIREBASE_PROJECT_ID="element8-firebase-project"
ELEMENT8_FIREBASE_CLIENT_EMAIL="firebase-adminsdk@element8-project.iam.gserviceaccount.com"
ELEMENT8_FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key\n-----END PRIVATE KEY-----\n"

# Firebase Client SDK (Client-side)
NEXT_PUBLIC_ELEMENT8_FIREBASE_API_KEY="AIzaSy..."
NEXT_PUBLIC_ELEMENT8_FIREBASE_AUTH_DOMAIN="element8-project.firebaseapp.com"
NEXT_PUBLIC_ELEMENT8_FIREBASE_PROJECT_ID="element8-firebase-project"
NEXT_PUBLIC_ELEMENT8_FIREBASE_STORAGE_BUCKET="element8-project.appspot.com"
NEXT_PUBLIC_ELEMENT8_FIREBASE_MESSAGING_SENDER_ID="567890123"
NEXT_PUBLIC_ELEMENT8_FIREBASE_APP_ID="1:567890123:web:efghij"


# =============================================================================
# LEGACY/FALLBACK CONFIGURATION (Optional)
# =============================================================================
# These non-prefixed variables are used as fallbacks when company-specific
# variables are not found. Useful for:
#   - Local development with a single tenant
#   - Gradual migration to multi-tenant setup
#   - Default/fallback configuration

# Legacy Database URL (fallback)
DATABASE_URL="postgresql://user:password@localhost:5432/default_db?schema=public"

# Legacy Firebase Client (fallback)
NEXT_PUBLIC_FIREBASE_API_KEY="your-api-key"
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN="your-app.firebaseapp.com"
NEXT_PUBLIC_FIREBASE_PROJECT_ID="your-project-id"
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET="your-app.appspot.com"
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID="your-sender-id"
NEXT_PUBLIC_FIREBASE_APP_ID="your-app-id"

# Legacy Firebase Admin (fallback)
FIREBASE_PROJECT_ID="your-project-id"
FIREBASE_CLIENT_EMAIL="firebase-adminsdk@your-project.iam.gserviceaccount.com"
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key\n-----END PRIVATE KEY-----\n"


# =============================================================================
# ADDING A NEW COMPANY
# =============================================================================
# To add a new company (e.g., "acme"):
#
# 1. Add branding config in src/config/branding.ts
# 2. Add these environment variables with ACME_ prefix:
#
#    ACME_DATABASE_URL="postgresql://..."
#    ACME_FIREBASE_PROJECT_ID="..."
#    ACME_FIREBASE_CLIENT_EMAIL="..."
#    ACME_FIREBASE_PRIVATE_KEY="..."
#    NEXT_PUBLIC_ACME_FIREBASE_API_KEY="..."
#    NEXT_PUBLIC_ACME_FIREBASE_AUTH_DOMAIN="..."
#    NEXT_PUBLIC_ACME_FIREBASE_PROJECT_ID="..."
#    NEXT_PUBLIC_ACME_FIREBASE_STORAGE_BUCKET="..."
#    NEXT_PUBLIC_ACME_FIREBASE_MESSAGING_SENDER_ID="..."
#    NEXT_PUBLIC_ACME_FIREBASE_APP_ID="..."
#
# 3. Configure DNS: acme.yourdomain.com → your server
# 4. The middleware will automatically detect the subdomain and use ACME_* vars
